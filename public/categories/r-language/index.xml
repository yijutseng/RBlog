<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>R Language on 有完沒完RRR</title>
    <link>https://blog.yjtseng.info/categories/r-language/</link>
    <description>Recent content in R Language on 有完沒完RRR</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-tw</language>
    <lastBuildDate>Tue, 27 Mar 2018 00:00:00 +0000</lastBuildDate>
    
        <atom:link href="https://blog.yjtseng.info/categories/r-language/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>R的arguments出現三個點是...?</title>
      <link>https://blog.yjtseng.info/post/dotdotdot/</link>
      <pubDate>Tue, 27 Mar 2018 00:00:00 +0000</pubDate>
      
      <guid>https://blog.yjtseng.info/post/dotdotdot/</guid>
      <description>

&lt;h2 id=&#34;r函數介紹&#34;&gt;R函數介紹&lt;/h2&gt;

&lt;p&gt;需要先介紹怎麼在R裡面寫函數&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;f &amp;lt;- function(...) { 
  names(list(...)) 
} 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;上述程式碼中，·&lt;code&gt;f&lt;/code&gt;是一個使用者自訂函數，就像java裡面的method，而&lt;strong&gt;…&lt;/strong&gt;的功能，則是讓&lt;code&gt;f&lt;/code&gt;函數可以輸入各式各樣的參數，而且可以將參數往下丟到其他函數內。&lt;/p&gt;

&lt;h2 id=&#34;使用範例一&#34;&gt;&amp;hellip;使用範例一&lt;/h2&gt;

&lt;p&gt;舉例來說，若執行&lt;code&gt;f(a = 1, b = 2)&lt;/code&gt;，a和b這兩個參數可以直接傳到&lt;code&gt;list()&lt;/code&gt;函數中，變成&lt;code&gt;names(list(a=1,b=2))&lt;/code&gt;，意即生成一個list，內有兩個元素，a=1以及b=2。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;f(a = 1, b = 2)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;a&amp;quot; &amp;quot;b&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;names(list(a=1,b=2)) #輸出相同
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;a&amp;quot; &amp;quot;b&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;使用範例二&#34;&gt;&amp;hellip;使用範例二&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;addPercent &amp;lt;- function(x, mult = 100, ...){ 
  percent &amp;lt;- round(x * mult, ...) 
  paste0(percent, &amp;quot;%&amp;quot;) 
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;在上述程式碼中，&lt;code&gt;addPercent&lt;/code&gt;是一個使用者自訂函數，&lt;strong&gt;…&lt;/strong&gt;的功能讓&lt;code&gt;addPercent&lt;/code&gt;函數可以輸入各式各樣的參數，而且可以將參數往下丟到其他函數內。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;addPercent(c(0.5887,0.6925), digits = 2)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;58.87%&amp;quot; &amp;quot;69.25%&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;addPercent(c(0.5887,0.6925), digits = 1)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;58.9%&amp;quot; &amp;quot;69.2%&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;因此在執行&lt;code&gt;addPercent(c(0.5887,0.6925), digits = 2)&lt;/code&gt;時，&lt;code&gt;digits&lt;/code&gt;參數被傳遞到自定義函數&lt;code&gt;addPercent&lt;/code&gt;中的&lt;code&gt;round&lt;/code&gt;函數內，變成&lt;code&gt;round&lt;/code&gt;函數中的參數。
在&lt;code&gt;round&lt;/code&gt;函數中，&lt;code&gt;digits&lt;/code&gt;參數的功能是設定四捨五入的位數，因此&lt;code&gt;digits = 2&lt;/code&gt;是指四捨五入到小數點第二位，&lt;code&gt;digits = 1&lt;/code&gt;是指四捨五入到小數點第一位。&lt;/p&gt;

&lt;h2 id=&#34;使用範例三&#34;&gt;&amp;hellip;使用範例三&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;HelloWorld &amp;lt;- function(...) {
  arguments &amp;lt;- list(...) 
  paste(arguments)
} 
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;HelloWorld(&amp;quot;Hello&amp;quot;, &amp;quot;World&amp;quot;, &amp;quot;!&amp;quot;,&amp;quot;~&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;Hello&amp;quot; &amp;quot;World&amp;quot; &amp;quot;!&amp;quot;     &amp;quot;~&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
</description>
      
            <category>R</category>
      
    </item>
    
    <item>
      <title>正規表示式Regular Expression in R</title>
      <link>https://blog.yjtseng.info/post/regexpr/</link>
      <pubDate>Mon, 26 Mar 2018 00:00:00 +0000</pubDate>
      
      <guid>https://blog.yjtseng.info/post/regexpr/</guid>
      <description>

&lt;h2 id=&#34;什麼是正規表示式&#34;&gt;什麼是正規表示式?&lt;/h2&gt;

&lt;p&gt;Regular Expression (正規表示式)是指一組能用來表示字串共同格式 (common structure)的樣式 (Pattern)，像是&lt;code&gt;@&lt;/code&gt;符號會固定出現在email中，或是手機號碼固定是10碼，等等樣式。
在所有的程式語言中，只要用到&lt;strong&gt;字串比對&lt;/strong&gt;與&lt;strong&gt;字串取代&lt;/strong&gt;等字串相關功能，都會用到正規表示式。雖然正規表示式在不同程式語言中會有些許差異，但核心概念是相同的。&lt;/p&gt;

&lt;p&gt;以下是常見的範例:&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;語法&lt;/th&gt;
&lt;th&gt;正則表達式&lt;/th&gt;
&lt;th&gt;範例&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;整數&lt;/td&gt;
&lt;td&gt;[0-9]+&lt;/td&gt;
&lt;td&gt;5815&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;浮點數&lt;/td&gt;
&lt;td&gt;[0-9]+.[0-9]+&lt;/td&gt;
&lt;td&gt;58.15&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;純英文字串&lt;/td&gt;
&lt;td&gt;[A-Za-z]+&lt;/td&gt;
&lt;td&gt;CGUIM&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Email&lt;/td&gt;
&lt;td&gt;[a-zA-Z0-9&lt;em&gt;]+@[a-zA-Z0-9.&lt;/em&gt;]+&lt;/td&gt;
&lt;td&gt;&lt;code&gt;im@mail.cgu.edu.tw&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;URL&lt;/td&gt;
&lt;td&gt;&lt;code&gt;http://[a-zA-Z0-9./_]+&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;http://www.is.cgu.edu.tw/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;可以用正規表示式的r函數&#34;&gt;可以用正規表示式的R函數&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;grep()&lt;/li&gt;
&lt;li&gt;grepl()&lt;/li&gt;
&lt;li&gt;gsub()&lt;/li&gt;
&lt;li&gt;str_split()&lt;/li&gt;
&lt;li&gt;stringr package中的諸多函數&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;正規表示式的語法&#34;&gt;正規表示式的語法&lt;/h2&gt;

&lt;h3 id=&#34;逃脫字元&#34;&gt;逃脫字元&lt;/h3&gt;

&lt;p&gt;*&lt;em&gt;\*&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&#34;表示數量的語法&#34;&gt;表示數量的語法&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt;: 出現0~無限多次&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+&lt;/code&gt;: 出現1~無限多次&lt;/li&gt;
&lt;li&gt;&lt;code&gt;?&lt;/code&gt;: 出現0~1次&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{n}&lt;/code&gt;: 出現n次&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{n,}&lt;/code&gt;: 出現n~無限多次&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{n,m}&lt;/code&gt;: 出現n~m次&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;stringVector&amp;lt;-c(&amp;quot;a&amp;quot;,&amp;quot;abc&amp;quot;,&amp;quot;ac&amp;quot;,&amp;quot;abbc&amp;quot;,&amp;quot;abbbc&amp;quot;,&amp;quot;abbbbc&amp;quot;)
grep(&amp;quot;ab*&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;a&amp;quot;      &amp;quot;abc&amp;quot;    &amp;quot;ac&amp;quot;     &amp;quot;abbc&amp;quot;   &amp;quot;abbbc&amp;quot;  &amp;quot;abbbbc&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;grep(&amp;quot;ab+&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;abc&amp;quot;    &amp;quot;abbc&amp;quot;   &amp;quot;abbbc&amp;quot;  &amp;quot;abbbbc&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;grep(&amp;quot;ab?c&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;abc&amp;quot; &amp;quot;ac&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;grep(&amp;quot;ab{2}c&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;abbc&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;grep(&amp;quot;ab{2,}c&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;abbc&amp;quot;   &amp;quot;abbbc&amp;quot;  &amp;quot;abbbbc&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;grep(&amp;quot;ab{2,3}c&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;abbc&amp;quot;  &amp;quot;abbbc&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;表示位置的語法&#34;&gt;表示位置的語法&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;^&lt;/code&gt;: 出現在字串開始的位置&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$&lt;/code&gt;: 出現在字串結束ˇ的位置&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\b&lt;/code&gt;: 出現空字串(空白)開始或結束的位置&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\B&lt;/code&gt;: 出現非字串開始或結束的位置&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;stringVector&amp;lt;-c(&amp;quot;abc&amp;quot;,&amp;quot;bcd&amp;quot;,&amp;quot;cde&amp;quot;,&amp;quot;def&amp;quot;,&amp;quot;abc def&amp;quot;,&amp;quot;bcdefg abc&amp;quot;)
grep(&amp;quot;^bc&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;bcd&amp;quot;        &amp;quot;bcdefg abc&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;grep(&amp;quot;bc$&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;abc&amp;quot;        &amp;quot;bcdefg abc&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;grep(&amp;quot;\\bde&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;def&amp;quot;     &amp;quot;abc def&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;grep(&amp;quot;\\Bde&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;cde&amp;quot;        &amp;quot;bcdefg abc&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;運算子&#34;&gt;運算子&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;.&lt;/code&gt;: 出現所有的字元一次，包括空字串&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[...]&lt;/code&gt;: 出現字元清單(&amp;hellip;)中的字元一次，可用&lt;code&gt;-&lt;/code&gt;表示範圍，如&lt;code&gt;[A-Z]&lt;/code&gt;，&lt;code&gt;[a-z]&lt;/code&gt;，&lt;code&gt;[0-9]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[^...]&lt;/code&gt;: 不出現字元清單(&amp;hellip;)中的字元&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\&lt;/code&gt;: 要搜尋字串中的特殊字元時，前方須加上&lt;code&gt;\&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;|&lt;/code&gt;: 或&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;stringVector&amp;lt;-c(&amp;quot;03-2118800&amp;quot;,&amp;quot;02-23123456&amp;quot;,&amp;quot;0988123456&amp;quot;,
                &amp;quot;07-118&amp;quot;,&amp;quot;0-888&amp;quot;,&amp;quot;csim@mail.cgu.edu.tw&amp;quot;,&amp;quot;csim@.&amp;quot;,&amp;quot;csim@&amp;quot;,
                &amp;quot;http://www.is.cgu.edu.tw/&amp;quot;)
grep(&amp;quot;[0-9]{2}-[0-9]{7,8}&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;03-2118800&amp;quot;  &amp;quot;02-23123456&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;grep(&amp;quot;[0-9]{10}&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;0988123456&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;grep(&amp;quot;02|03&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;03-2118800&amp;quot;  &amp;quot;02-23123456&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;grep(&amp;quot;[a-zA-Z0-9_]+@[a-zA-Z0-9._]+&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;csim@mail.cgu.edu.tw&amp;quot; &amp;quot;csim@.&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;特殊符號&#34;&gt;特殊符號&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;\d&lt;/code&gt;: 數字，等於 [0-9]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\D&lt;/code&gt;: 非數字，等於 [^0-9]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[:lower:]&lt;/code&gt;: 小寫字，等於 [a-z]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[:upper:]&lt;/code&gt;: 大寫字，等於 [A-Z]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[:alpha:]&lt;/code&gt;: 所有英文字，等於 [[:lower:][:upper:]] or [A-z]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[:alnum:]&lt;/code&gt;: 所有英文字和數字，等於 [[:alpha:][:digit:]] or [A-z0-9]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\w&lt;/code&gt;: 文字數字與底線，等於 [[:alnum:]&lt;em&gt;] or [A-z0-9&lt;/em&gt;]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\W&lt;/code&gt;: 非文字數字與底線，等於 [^A-z0-9_]&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[:blank:]&lt;/code&gt;: 空白字元，包括空白和tab&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\s&lt;/code&gt;: 空白字元,&lt;/li&gt;
&lt;li&gt;&lt;code&gt;\S&lt;/code&gt;: 非空白字元&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[:punct:]&lt;/code&gt;: 標點符號 ! &amp;ldquo; # $ % &amp;amp; ’ ( ) * + , - . / : ; &amp;lt; = &amp;gt; ? @ [  ] ^ _ ` { | } ~.&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;stringVector&amp;lt;-c(&amp;quot;03-2118800&amp;quot;,&amp;quot;02-23123456&amp;quot;,&amp;quot;0988123456&amp;quot;,
                &amp;quot;07-118&amp;quot;,&amp;quot;0-888&amp;quot;,&amp;quot;csim@mail.cgu.edu.tw&amp;quot;,&amp;quot;http://www.is.cgu.edu.tw/&amp;quot;)
grep(&amp;quot;\\d{2}-\\d{7,8}&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;03-2118800&amp;quot;  &amp;quot;02-23123456&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;grep(&amp;quot;\\d{10}&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;0988123456&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;grep(&amp;quot;\\w+@[a-zA-Z0-9._]+&amp;quot;,stringVector,value=T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;csim@mail.cgu.edu.tw&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;參考資料&#34;&gt;參考資料&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://dotblogs.com.tw/johnny/archive/2010/01/25/13301.aspx&#34;&gt;Regular Expression 詳論&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://regexlib.com/&#34;&gt;RegExLib.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://stat545.com/block022_regular-expression.html&#34;&gt;Regular Expression in R&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
      
            <category>R</category>
      
    </item>
    
  </channel>
</rss>
